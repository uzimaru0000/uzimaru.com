package uzimaru:ls;

interface types {
    record command-input {
        args: list<string>,
        env: list<tuple<string, string>>,
        cwd: string,
    }
    // stdout/stderr は WASI CLI ストリーム経由で処理（Rust の println!/eprintln! が使う）
}

world ls {
    use types.{command-input};

    // exit code のみを返す
    // stdout/stderr/filesystem は cargo-component が自動的に WASI imports を追加
    export run: func(input: command-input) -> s32;
}
